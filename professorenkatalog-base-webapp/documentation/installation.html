<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
	<title>Professorenkatalog Installation</title>
	<link rel="stylesheet" type="text/css" href="documentation.css">
</head>
<body>
<h1>Installation der Anwendung &quot;Professorenkatalog&quot;</h1>

Der Professorenkatalog basiert auf MyCoRe, dem JSPDocportal (JSP Frontend für MyCoRe) und 
<code>professorenkatalog-base-web</code>, welches die generischen Bestandteile der Professorenkataloge
enthalten wird.
Neue Professorenkatalogs-Anwendungen sollten <code>profkatsample-webapp</code> und <code>profkatsample-complete</code>
zunächst umbenennen und diese weiter anpassen.

Im weiteren Verlauf dieser Dokumentation soll die Beispielanwendung installiert werden.
Dabei wird an den entsprechenden Stellen auf Anpassungsmöglichkeiten hingewiesen.

<h2>Auschecken mittels SVN</h2>
	<ul>
		<li><code>http://server.mycore.de/svn/jspdocportal/trunk/jspdocportal-mycore-war</code></li>
		<li><code>http://server.mycore.de/svn/jspdocportal/trunk/jspdocportal-webapp</code></li>
		<li><code>http://server.mycore.de/svn/professorenkatalog/trunk/professorenkatalog-base-webapp</code></li>
		<li><code>http://server.mycore.de/svn/professorenkatalog/trunk/profkatsample-webapp</code></li>
		<li><code>http://server.mycore.de/svn/professorenkatalog/trunk/profkatsample-complete</code></li>
	</ul>
	
<h2>Kompilieren der generischen Bestandteile mittels Maven </h2>
	In den Projekten <code> jspdocportal-mycore-war, jspdocportal-webapp, professorenkatalog-base-webapp</code> 
	in der benannten Reihenfolge, ist folgendes auszuführen:
	<ul class="commandline"><li>mvn clean install</li></ul>
	
	
	

 <h2>Buildfiles anpassen</h2>
	<ul>	
		<li><code>profkatsample-webapp/pom.xml</code></li>
		<li><code>profkatsample-complete/pom.xml</code></li>
		<li><code>profkatsample-complete/src/assemble/merge.xml</code></li>
	</ul>
	
<h2>Klassifikationen</h2>
<ul>
	<li>Anpassung der Klassifikationen</li>
 </ul>
 

<h2>Postgres Datenbank einrichten</h2>
In Postgres können wir eine DB für alle MyCoRe Instanzen verwenden. Die eigentlichen Datenbanken können in Schemas abgelegt werden.

<h4>Konfiguration mittels pgadmin3 – GUI</h4>
<h4>Nutzer <code>profkatadmin</code> anlegen</h4>
<ul><li>Eigenschaft "can create databases" auswählen </li></ul>
<h4>Datenbanken anlegen (falls noch nicht vorhanden)</h4>
	<ul>
		<li>Name: <code>mycoredb</code></li>
		<li>Eigentümer: <code>mcradmin</code></li>
		<li>Kodierung: <code>UTF8</code></li>
	</ul>
<h4>Schemas anlegen</h4>
	<ul>	
		<li>2 Schemas anlegen: <code>profkat</code>, <code>profkat_workflow</code></li>
		<li>Für jedes Schema eine Sequenz anlegen
			<ul class="commandline"><li>
			&gt; CREATE SEQUENCE $SCHEMA$.hibernate_sequence<br />  
	        &nbsp;&nbsp;&nbsp;INCREMENT 1   MINVALUE 1  <br />
	        &nbsp;&nbsp;&nbsp;MAXVALUE 9223372036854775807  <br />
	        &nbsp;&nbsp;&nbsp;START 1 CACHE 1; </li>
	        <li>&gt; ALTER SEQUENCE $SCHEMA$.hibernate_sequence OWNER TO profkatadmin;</li>
	       </ul>
	   
	</ul>

<h2>Webseite anpassen</h2>
<ul><li>Stripes Layout: <code>/WEB-INF/layout/default.jsp</code> anpassen</ul>

<h2>Anwendung bauen</h2>
<ul>
	<li><code>jspdocportal-webapp</code></li>
	<li><code>professorenkatalog-base-webapp</code></li>
	<li><code>profkatsample-webapp</code></li>
	<li><code>profkatsample-complete</code></li>
</ul>

<div style="min-height:128px;">&nbsp;</div>
</body>
</html>